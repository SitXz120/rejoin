<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Moji Auth System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body>
  <div class="auth-card text-center fade-in">
    <h1 class="mb-4">Moji Auth</h1>
    <p class="mb-4">Authentication System with License Key + HWID</p>
    <div class="d-grid gap-3">
      <a href="register.html" class="btn btn-custom btn-lg">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
      <a href="login.html" class="btn btn-outline-light btn-lg">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
    </div>

    <!-- ‚úÖ ‡∏õ‡∏∏‡πà‡∏° Admin Panel (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ token ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö ADMIN_TOKEN) -->
    <div class="text-center mt-4" id="adminPanelBtn" style="display: none;">
      <a href="admin-dashboard.html" class="btn btn-outline-warning">üîß Admin Panel</a>
    </div>
  </div>

  <script>
    async function checkAdminToken() {
      const token = localStorage.getItem('token');
      if (!token) return;

      try {
        const res = await fetch('/admin-auth', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ token })
        });

        if (res.ok) {
          document.getElementById("adminPanelBtn").style.display = "block";
        }
      } catch (err) {
        console.error("Error checking admin token:", err);
      }
    }

    checkAdminToken();
  </script>
</body>
</html>
